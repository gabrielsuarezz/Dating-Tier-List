<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>South Florida Date Ranker (Stable)</title>
<style>
  :root {
    --bg-color: #121212;
    --panel-bg: #1e1e1e;
    --card-bg: #252525;
    --accent: #ff4081; 
    --accent-blue: #448aff; 
    --accent-green: #00e676; 
    --accent-yellow: #ffeb3b;
    --text-main: #e0e0e0;
    --text-muted: #a0a0a0;
  }

  body {
    font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-main);
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 5px;
    text-align: center;
    background: linear-gradient(to right, #ff4081, #448aff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  p.subtitle {
    text-align: center;
    color: var(--text-muted);
    margin-bottom: 30px;
    max-width: 600px;
    font-size: 0.9rem;
  }

  /* --- FILTERS --- */
  .filter-bar {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .filter-btn {
    background: var(--panel-bg);
    border: 1px solid #444;
    color: var(--text-main);
    padding: 8px 16px;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .filter-btn:hover, .filter-btn.active {
    background-color: var(--accent);
    color: white;
    border-color: var(--accent);
    transform: translateY(-2px);
  }

  /* --- TIER GRID --- */
  .tier-container {
    width: 100%;
    max-width: 1400px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-bottom: 40px;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }

  .tier-row {
    display: flex;
    min-height: 150px;
    background-color: #000;
    border-bottom: 1px solid #333;
  }

  .tier-label {
    width: 100px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2.5rem;
    font-weight: 900;
    color: #000;
    flex-shrink: 0;
    text-shadow: 1px 1px 0px rgba(255,255,255,0.2);
  }

  .s-tier { background: #ff7f7f; }
  .a-tier { background: #ffbf7f; }
  .b-tier { background: #ffdf7f; }
  .c-tier { background: #ffff7f; }
  .d-tier { background: #bfff7f; }

  .dropzone {
    flex-grow: 1;
    background-color: #1a1a1a;
    padding: 10px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-content: flex-start;
    transition: background 0.2s;
  }

  .dropzone.drag-over {
    background-color: #333;
    border: 2px dashed #666;
  }

  /* --- POOL AREA --- */
  .pool-section {
    width: 100%;
    max-width: 1400px;
    background-color: var(--panel-bg);
    border-radius: 12px;
    padding: 20px;
    border: 2px dashed #444;
    position: relative;
  }

  .pool-title {
    text-align: center; 
    margin-top: 0; 
    color: #aaa; 
    font-size: 1rem; 
    text-transform: uppercase; 
    letter-spacing: 1px;
    margin-bottom: 15px;
  }

  .pool-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    min-height: 200px;
  }

  /* --- CARD DESIGN --- */
  .card {
    width: 220px;
    background-color: var(--card-bg);
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    cursor: grab;
    display: flex;
    flex-direction: column;
    position: relative;
    border: 1px solid #333;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .card:hover {
    border-color: #666;
    z-index: 10;
    transform: translateY(-2px);
    box-shadow: 0 8px 15px rgba(0,0,0,0.5);
  }

  .card:active {
    cursor: grabbing;
    transform: scale(0.98);
  }

  .card-img-container {
    height: 110px;
    width: 100%;
    background-color: #333;
    position: relative;
    overflow: hidden;
  }
  
  .card-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s;
    background-color: #222;
  }

  .card:hover .card-img {
    transform: scale(1.1);
  }

  .drive-badge {
    position: absolute;
    bottom: 5px;
    right: 5px;
    background-color: rgba(0,0,0,0.8);
    color: #fff;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 4px;
    backdrop-filter: blur(2px);
  }

  .card-body {
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    flex-grow: 1;
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
  }

  .card-title {
    font-size: 0.95rem;
    font-weight: bold;
    margin: 0;
    line-height: 1.2;
    color: #fff;
  }

  .card-price {
    font-size: 0.8rem;
    color: var(--accent-green);
    font-weight: bold;
    white-space: nowrap;
  }

  .card-desc {
    font-size: 0.75rem;
    color: #bbb;
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .card-tags {
    margin-top: auto;
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    padding-top: 5px;
  }

  .tag {
    font-size: 0.65rem;
    padding: 2px 6px;
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: bold;
    color: #000;
  }

  .tag-art { background-color: var(--accent); color: white; }
  .tag-hist { background-color: var(--accent-blue); color: white; }
  .tag-fun { background-color: var(--accent-yellow); color: black; }
  .tag-food { background-color: var(--accent-green); color: black; }

  /* Drive Time Color Coding */
  .drive-short { color: #4caf50; } /* < 30 mins */
  .drive-med { color: #ff9800; }   /* 30-60 mins */
  .drive-long { color: #f44336; }  /* 60+ mins */

  /* --- TOOLTIP SYSTEM --- */
  .card-tooltip {
    position: absolute;
    background: linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%);
    color: var(--text-main);
    padding: 16px 20px;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.1);
    z-index: 10000;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s, transform 0.3s;
    min-width: 320px;
    max-width: 400px;
    font-size: 0.9rem;
    line-height: 1.5;
    transform: translateY(10px);
    backdrop-filter: blur(10px);
  }

  .card-tooltip.show {
    opacity: 1;
    transform: translateY(0);
  }

  .tooltip-title {
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 8px;
    color: var(--accent);
    border-bottom: 2px solid var(--accent);
    padding-bottom: 6px;
  }

  .tooltip-section {
    margin: 10px 0;
  }

  .tooltip-label {
    font-weight: 600;
    color: var(--accent-blue);
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
  }

  .tooltip-content {
    color: var(--text-muted);
    margin-bottom: 8px;
  }

  .tooltip-price {
    display: inline-block;
    background: var(--accent-green);
    color: #000;
    padding: 4px 10px;
    border-radius: 6px;
    font-weight: 700;
    font-size: 0.85rem;
  }

  .tooltip-hours {
    color: var(--accent-yellow);
    font-weight: 600;
  }

</style>
</head>
<body>

  <h1>üå¥ South Florida Date Ranker</h1>
  <p class="subtitle">Drag & Drop to rank. Drive times estimated from <strong>North Perry Airport (HWO)</strong>.</p>

  <div class="filter-bar">
    <button class="filter-btn active" onclick="filterCards('all')">All Dates</button>
    <button class="filter-btn" onclick="filterCards('art')">üé® Art & Cute</button>
    <button class="filter-btn" onclick="filterCards('history')">üèõÔ∏è History</button>
    <button class="filter-btn" onclick="filterCards('fun')">üé¢ Fun & Silly</button>
    <button class="filter-btn" onclick="filterCards('food')">üåø Healthy Eats</button>
  </div>

  <div class="tier-container">
    <div class="tier-row"><div class="tier-label s-tier">S</div><div class="dropzone" id="s-tier"></div></div>
    <div class="tier-row"><div class="tier-label a-tier">A</div><div class="dropzone" id="a-tier"></div></div>
    <div class="tier-row"><div class="tier-label b-tier">B</div><div class="dropzone" id="b-tier"></div></div>
    <div class="tier-row"><div class="tier-label c-tier">C</div><div class="dropzone" id="c-tier"></div></div>
    <div class="tier-row"><div class="tier-label d-tier">D</div><div class="dropzone" id="d-tier"></div></div>
  </div>

  <div class="pool-section">
    <h3 class="pool-title">üëá Unranked Dates üëá</h3>
    <div class="dropzone pool-grid" id="pool"></div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

        // =========================================================================
        //  IMAGE FALLBACK SYSTEM
        //  If a specific image fails to load, it will fall back to category defaults
        // =========================================================================

        // Simple colored placeholder fallbacks - these will always work
        const FALLBACK_IMAGES = {
            art: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23ff4081" width="400" height="300"/%3E%3Ctext x="50%25" y="50%25" font-size="48" fill="white" text-anchor="middle" dy=".3em"%3Eüé®%3C/text%3E%3C/svg%3E',
            history: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23448aff" width="400" height="300"/%3E%3Ctext x="50%25" y="50%25" font-size="48" fill="white" text-anchor="middle" dy=".3em"%3EüèõÔ∏è%3C/text%3E%3C/svg%3E',
            fun: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23ffeb3b" width="400" height="300"/%3E%3Ctext x="50%25" y="50%25" font-size="48" fill="black" text-anchor="middle" dy=".3em"%3Eüé¢%3C/text%3E%3C/svg%3E',
            food: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%2300e676" width="400" height="300"/%3E%3Ctext x="50%25" y="50%25" font-size="48" fill="white" text-anchor="middle" dy=".3em"%3Eüåø%3C/text%3E%3C/svg%3E',
            default: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23666" width="400" height="300"/%3E%3Ctext x="50%25" y="50%25" font-size="24" fill="white" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'
        };

        // =========================================================================
        //  HOW TO ADD IMAGES - 3 METHODS:
        //
        //  METHOD 1 (EASIEST): Use local images
        //    - Save image in the 'images' folder as '{id}.jpg' (e.g., 'vizcaya.jpg')
        //    - Set img: 'images/vizcaya.jpg'
        //
        //  METHOD 2: Use external URLs
        //    - Find image online (Wikimedia, venue website, etc.)
        //    - Set img: 'https://...'
        //
        //  METHOD 3: Use placeholder
        //    - Set img: '' (empty string)
        //    - Will show colored category icon
        //
        //  The fallback system handles broken images automatically!
        // =========================================================================

        const dates = [
        {
            id: 'vizcaya',
            name: 'Vizcaya Museum',
            desc: 'Stunning Italian estate on the water. Romantic gardens, history, and incredible photo ops.',
            price: '$$',
            time: '45 min',
            tags: ['history', 'art'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/2/25/Villa_Vizcaya_20110228.jpg',
            details: {
                pricing: 'Adults: $25 | Students: $15 | Kids 6-12: $10 | Under 6: FREE',
                hours: 'Wed-Mon: 9:30 AM - 4:30 PM | Closed Tuesdays',
                whatToExpect: '34 furnished rooms in Mediterranean Revival estate, 10 acres of Italian Renaissance gardens, Biscayne Bay waterfront views. Plan 2-3 hours. Parking available ($5).',
                notes: 'Military/Veterans get free admission year-round! Caf√© on-site. Wedding photos common here.'
            }
        },
        {
            id: 'morikami',
            name: 'Morikami Gardens',
            desc: 'Peaceful Japanese gardens & museum. Very zen, quiet walking paths, and bonsai displays.',
            price: '$$',
            time: '50 min',
            tags: ['history', 'art'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/3/36/MorikamiLakeHouse.jpg',
            details: {
                pricing: 'Adults: $20 | Students/Military: $18 | Kids 6-17: $12 | Under 6: FREE',
                hours: 'Tue-Sun: 10 AM - 5 PM | Closed Mondays & major holidays',
                whatToExpect: '200 acres with 6 distinct Japanese gardens, museum, koi ponds, bonsai collection. Plan 2-3 hours. Cornell Caf√© serves Japanese-inspired food.',
                notes: 'Free admission first Sunday of each month! Very peaceful for couples. Wear comfortable walking shoes.'
            }
        },
        {
            id: 'coralcastle',
            name: 'Coral Castle',
            desc: 'Mysterious stone structures built by one man for his lost love. Quirky and historical.',
            price: '$$',
            time: '55 min',
            tags: ['history', 'fun'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Coral_Castle_1.jpg/1200px-Coral_Castle_1.jpg',
            details: {
                pricing: 'Adults: $18 | Seniors 62+: $15 | Kids 7-12: $8 | Under 7: FREE',
                hours: 'Daily: 8 AM - 6 PM (last admission 5 PM)',
                whatToExpect: '1,100 tons of coral rock sculpted by Edward Leedskalnin. Self-guided tour of unusual sculptures, stone furniture, telescope. Plan 1-1.5 hours. Great for curious minds!',
                notes: 'Built single-handedly 1923-1951. Story of unrequited love. Cash & cards accepted. Gift shop on-site.'
            }
        },
        {
            id: 'butterfly',
            name: 'Butterfly World',
            desc: 'Walk through tropical greenhouses with thousands of butterflies flying around you.',
            price: '$$',
            time: '35 min',
            tags: ['art', 'fun'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/a/a9/Morpho_peleides_at_Butterfly_World.jpg',
            details: {
                pricing: 'Adults: $32.95 | Seniors 55+: $27.95 | Kids 3-11: $24.95 | Under 3: FREE',
                hours: 'Mon-Sat: 9 AM - 5 PM | Sun: 11 AM - 5 PM (last entry 4 PM)',
                whatToExpect: '3 acres of screened aviaries with 20,000+ live butterflies, hummingbirds, lorikeets, flamingos. Plan 1.5-2 hours. Bring camera! Wear bright colors to attract butterflies.',
                notes: 'World\'s largest butterfly park! Buy tickets online for discount. Can hand-feed lorikeets for extra fee.'
            }
        },
        {
            id: 'silverball',
            name: 'Silverball Arcade',
            desc: 'Retro museum where you can play! Dozens of vintage pinball machines on free play.',
            price: '$',
            time: '50 min',
            tags: ['fun', 'history'],
            img: 'https://silverballmuseum.com/delray-beach/wp-content/uploads/sites/5/2021/11/silverballmsr03449-2537.jpg',
            details: {
                pricing: 'Flat rate: $20/person for UNLIMITED play on all machines',
                hours: 'Mon-Thu: 12-9 PM | Fri-Sat: 12-10 PM | Sun: 12-9 PM',
                whatToExpect: '150+ vintage pinball & arcade games from 1950s-2000s. ALL on free play once you pay entry. Plan 2-3 hours. Competitive & nostalgic fun!',
                notes: 'Perfect for competitive dates! Soda & snacks available. No outside food/drink. Re-entry allowed same day.'
            }
        },
        {
            id: 'ygm',
            name: 'Yellow Green Market',
            desc: 'Massive covered market (Sat/Sun). Walk around eating healthy treats. High energy.',
            price: '$',
            time: '15 min',
            tags: ['food', 'fun'],
            img: 'https://voyagemia.com/wp-content/uploads/2017/10/personal_photo-238-1000x600.jpg',
            details: {
                pricing: 'FREE entry | Food $5-15 per item',
                hours: 'Sat-Sun ONLY: 8 AM - 4 PM',
                whatToExpect: 'Huge covered flea market with 500+ vendors. Fresh produce, international food, antiques, crafts. Plan 1-2 hours. Casual & lively atmosphere. Cash recommended.',
                notes: 'Weekend-only! Great for breakfast dates. Try the a√ßa√≠ bowls and empanadas. Free parking.'
            }
        },
        {
            id: 'redlander',
            name: 'The Redlander',
            desc: 'Farm-to-table dining inside a winery. Famous for Avocado Stuffed Burgers (Steak or Veg).',
            price: '$$$',
            time: '60 min',
            tags: ['food', 'fun'],
            img: 'https://assets.simpleviewinc.com/simpleview/image/upload/c_fit,w_1440,h_900/crm/miamifl/RedLander-Restaurant-at-Schnebly-Winery-2-1440x9000-9381b7685056a36_9381b86e-5056-a36a-0b1c37f45551f690.jpg',
            details: {
                pricing: 'Entrees $18-38 | Wine flights $15-20 | Full bottles $25-60',
                hours: 'Daily: 12-5 PM (Restaurant) | Winery tours available',
                whatToExpect: 'Farm-to-fork cuisine at Schnebly Redland\'s Winery. Famous avocado-stuffed burgers, tropical fruit wines. Indoor/outdoor seating with vineyard views. Plan 1.5-2 hours.',
                notes: 'Reservations recommended on weekends! Try the tropical wine tasting flight. Live music some weekends.'
            }
        },
        {
            id: 'superblue',
            name: 'Superblue Miami',
            desc: 'Immersive art. Clouds, mirrors, and digital water. Super cool and interactive.',
            price: '$$$',
            time: '30 min',
            tags: ['art', 'fun'],
            img: 'https://cdn.prod.website-files.com/650ba1c41a78874c2e6faac3%2F66eaa4262cbacf5117c1fda5_bg%20video-poster-00001.jpg',
            details: {
                pricing: 'Adults: $39+ | Students/Seniors: $35+ | Kids 4-12: $25+ (varies by exhibition)',
                hours: 'Wed-Sun: 10 AM - 6 PM | Closed Mon-Tue | Timed entry tickets',
                whatToExpect: 'Massive immersive art installations you walk through. Digital waterfalls, infinity mirrors, cloud rooms. Very Instagram-worthy. Plan 1-1.5 hours. Book timed slots online.',
                notes: 'MUST book tickets online in advance! Wear comfortable shoes. Bring phone for photos. Changing exhibitions every few months.'
            }
        },
        {
            id: 'typark',
            name: 'T.Y. Park',
            desc: 'Rent paddle boats, walk the 2-mile loop, or picnic. Cheap, active, and local.',
            price: '$',
            time: '12 min',
            tags: ['fun', 'food'],
            img: 'https://static.where-e.com/United_States/Florida_State/Broward_County/Ty-Topeekeegee-Yugnee-Park_fc6c4dedfbc5b1407b8ac47c38f930e2.jpg',
            details: {
                pricing: 'FREE park entry | Paddle boats $15/30min | Bike rentals $10/hr',
                hours: 'Daily: Sunrise to Sunset | Rentals: 10 AM - 5 PM',
                whatToExpect: '138-acre park with lake, 2-mile paved walking loop, paddle boats, playground, picnic areas. Bring your own food or rent equipment. Casual outdoor date. Plan 1-2 hours.',
                notes: 'Great budget date! Bring blanket for picnic. Weekends can be crowded with families. Free parking.'
            }
        },
        {
            id: 'catcafe',
            name: 'Good Luck Cat Cafe',
            desc: 'Grab a coffee and play with adoptable kittens in a thrift store. Very wholesome.',
            price: '$',
            time: '30 min',
            tags: ['art', 'fun'],
            img: 'https://fortlauderdalemagazine.com/wp-content/uploads/2018/05/0618_Community_1.jpg',
            details: {
                pricing: 'Cat lounge: $15/person (includes drink) | Thrift shop: FREE',
                hours: 'Wed-Mon: 11 AM - 7 PM | Closed Tuesdays',
                whatToExpect: 'Adoptable cats roam a thrift store. Pay to hang in cat lounge area with coffee/tea. All cats available for adoption. Quirky & heartwarming. Plan 1 hour.',
                notes: 'Reservations recommended for cat lounge! Must be 10+ years old. Hand sanitizer provided. Great for animal lovers.'
            }
        },
        {
            id: 'bonnet',
            name: 'Bonnet House',
            desc: '1920s artist estate with wild monkeys in the trees. Old Florida vibes.',
            price: '$$',
            time: '35 min',
            tags: ['history', 'art'],
            img: 'https://www.bonnethouse.org/wp-content/uploads/2017/02/BH-main2.jpg',
            details: {
                pricing: 'Adults: $25 | Seniors 65+: $23 | Students/Youth 6-18: $20 | Under 6: FREE',
                hours: 'Tue-Sat: 9 AM - 4 PM | Sun: 11 AM - 4 PM | Closed Mondays',
                whatToExpect: '1920s artist estate on 35 tropical acres. Wild squirrel monkeys, swans, turtles. Historic house tours, art gallery, waterfront. Plan 1.5-2 hours.',
                notes: 'Look for the monkeys in the trees! Guided tours available. Beautiful for nature & history lovers. Free parking.'
            }
        },
        {
            id: 'madarts',
            name: 'Mad Arts',
            desc: 'Digital art museum in Dania. Interactive lights and projection mapping. Like Superblue but closer.',
            price: '$$',
            time: '20 min',
            tags: ['art', 'fun'],
            img: 'https://media.timeout.com/images/106088136/image.jpg',
            details: {
                pricing: 'General admission: $29-35 | Students: $25 | Kids under 12: $20',
                hours: 'Thu-Sun: 12-8 PM | Closed Mon-Wed | Timed entry tickets',
                whatToExpect: 'Immersive digital art installations. Projection mapping, interactive light rooms, sound art. Instagram-worthy. Plan 45-60 minutes. Book online.',
                notes: 'Smaller than Superblue but closer to Broward! Rotating exhibitions. Bring your camera. Arrive on time for your slot.'
            }
        },
        {
            id: 'frost',
            name: 'Frost Science',
            desc: 'Planetarium and Aquarium. Go for "Laser Fridays" for a music laser show.',
            price: '$$$',
            time: '35 min',
            tags: ['fun', 'history'],
            img: 'https://www.frostscience.org/wp-content/uploads/2023/08/Oculus-ps-9-scaled.jpg',
            details: {
                pricing: 'Adults: $32 | Seniors/Students: $28 | Kids 3-11: $23 | Under 3: FREE | Laser shows extra $10',
                hours: 'Daily: 9:30 AM - 5 PM | Laser Fridays: 8-11 PM',
                whatToExpect: '3-level aquarium, planetarium shows, science exhibits. Laser shows on Friday nights with music. Plan 3-4 hours for full museum. Buy combo tickets.',
                notes: 'Laser Fridays are 21+ after 6 PM! Book planetarium shows online. Parking is $25-30 nearby. Beautiful waterfront location.'
            }
        },
        {
            id: 'robert',
            name: 'Robert Is Here',
            desc: 'Legendary fruit stand with a petting zoo. Amazing smoothies and rare fruits.',
            price: '$',
            time: '60 min',
            tags: ['food', 'fun'],
            img: 'https://cdn.shopify.com/s/files/1/1687/7223/files/Store-Front_10-1024x680_grande.jpg?v=1483305153',
            details: {
                pricing: 'FREE entry | Smoothies $8-12 | Fruit varies | Petting zoo FREE',
                hours: 'Daily: 8 AM - 7 PM',
                whatToExpect: 'Iconic Homestead fruit stand since 1959. Exotic tropical fruits, famous milkshakes & smoothies, free petting zoo. Casual & fun. Plan 1 hour.',
                notes: 'Try the key lime milkshake! Cash recommended. Bring small bills for goat food. Great Instagram spot. Very kid-friendly.'
            }
        },
        {
            id: 'knaus',
            name: 'Knaus Berry Farm',
            desc: '(Seasonal Nov-Apr) Famous cinnamon rolls. Long lines but worth it.',
            price: '$',
            time: '55 min',
            tags: ['food', 'fun'],
            img: 'https://offloadmedia.feverup.com/secretmiami.com/wp-content/uploads/2025/08/22123606/Copy-of-Dicover-Photo-Collage-Miami-edited-12-1024x683.jpg',
            details: {
                pricing: 'Cinnamon rolls $13/6-pack | Strawberry shakes $8 | Produce varies',
                hours: 'SEASONAL (Nov-Apr): Mon-Sat 8 AM - 5:30 PM | CLOSED May-Oct',
                whatToExpect: 'Legendary cinnamon rolls from family farm. Expect 30-60 min wait on weekends. Also strawberry shakes, fresh produce. Plan 1-1.5 hours including line.',
                notes: 'Go early (before 9 AM) to avoid lines! Cash only. CLOSED in summer. Worth the drive & wait. Get extras to freeze!'
            }
        },
        {
            id: 'venetian',
            name: 'Venetian Pool',
            desc: 'Historic 1920s swimming pool made from a coral rock quarry. Beautiful waterfalls.',
            price: '$$',
            time: '40 min',
            tags: ['history', 'fun'],
            img: 'https://www.coralgables.com/sites/default/files/styles/internal_banner_mobile/public/2022-04/venetian-pool7.jpg?itok=SDCqKeed'
        },
        {
            id: 'lioncountry',
            name: 'Lion Country Safari',
            desc: 'Drive-through safari. Giraffes and rhinos walk right by your car. Super fun day trip.',
            price: '$$$',
            time: '65 min',
            tags: ['fun'],
            img: 'https://assets.simpleviewinc.com/simpleview/image/upload/crm/visitflorida/50239_ykt0ct8138xlxs66kk384vjq1vgt4r2u_965181ae-5056-a36a-0bcf1b8120f6041f.jpg'
        },
        {
            id: 'puttshack',
            name: 'Puttshack / PopStroke',
            desc: 'High-tech mini golf. Not your average windmill course. Good food and drinks too.',
            price: '$$',
            time: '30-60 min',
            tags: ['fun'],
            img: 'https://platform.miami.eater.com/wp-content/uploads/sites/12/chorus/uploads/chorus_asset/file/24133408/IMG_0648.JPG?quality=90&strip=all&crop=16.654761904762,0,66.690476190476,100'
        },
        {
            id: 'oleta',
            name: 'Oleta River Park',
            desc: 'Rent kayaks and paddle through mangrove tunnels. Active and beautiful nature.',
            price: '$',
            time: '25 min',
            tags: ['fun', 'food'],
            img: 'https://assets.simpleviewinc.com/simpleview/image/upload/c_fit,w_1440,h_900/crm/miamifl/110491_5406_576b7d01-5056-a36a-0bd06519340e8a63.jpg'
        },
        {
            id: 'tearoom',
            name: 'Cauley Sq Tea Room',
            desc: 'Hidden historic village. Finger sandwiches and tea in a cute cottage. Very romantic.',
            price: '$$',
            time: '55 min',
            tags: ['history', 'food'],
            img: 'https://dynamic-media-cdn.tripadvisor.com/media/photo-o/18/4c/a2/0c/the-wicker-room.jpg?w=900&h=500&s=1'
        },
        {
            id: 'soundscape',
            name: 'SoundScape Park',
            desc: 'Watch movies projected on a massive wall while sitting on the grass. Usually free!',
            price: '$',
            time: '40 min',
            tags: ['art', 'fun'],
            img: 'https://www.miamibeachfl.gov/wp-content/uploads/2024/02/Parks-Gallery-1-MiamiBeachSoundstage.jpeg'
        },
        {
            id: 'betterthansex',
            name: 'Better Than Sex',
            desc: 'Restaurant that serves ONLY dessert. Speakeasy vibes, dark, and romantic.',
            price: '$$',
            time: '40 min',
            tags: ['food', 'art'],
            img: 'https://images.getbento.com/accounts/73b409766e10013f613f866793e5091e/media/images/5462PXL_20231110_011912105.LONG_EXPOSURE-01.COVER.jpg?w=1200&fit=crop&auto=compress,format&cs=origin&h=600'
        },
        {
            id: 'wynwood',
            name: 'Wynwood Walls',
            desc: 'Walk around the street art capital. Great for photos. Visit Paradox Museum nearby.',
            price: '$',
            time: '25 min',
            tags: ['art', 'fun'],
            img: 'https://thewynwoodwalls.com/wp-content/uploads/2023/12/NK-231203-WW-3832-copy-2-2048x1364.jpg'
        },
        {
            id: 'gumbolimbo',
            name: 'Gumbo Limbo Center',
            desc: 'See sea turtles being rehabilitated. Nice boardwalk trails. Cute and educational.',
            price: '$',
            time: '45 min',
            tags: ['fun', 'history'],
            img: 'https://dynamic-media-cdn.tripadvisor.com/media/photo-o/07/77/8c/d4/gumbo-limbo-nature-center.jpg?w=900&h=500&s=1'
        },
        {
            id: 'nakedfarmer',
            name: 'Naked Farmer',
            desc: 'Casual spot for locally sourced roasted veggies and meats. Healthy and delicious.',
            price: '$',
            time: '30 min',
            tags: ['food'],
            img: 'https://images.squarespace-cdn.com/content/v1/61dece231a26677d49b63188/1665776582704-Z9LFQXC4VB5DLP8QRIY6/Naked+Farmer+Coral+Gables+137+Giralda+Ave+4.jpg'
        },
        {
            id: 'lasolas',
            name: 'Las Olas Boulevard',
            desc: 'Walk along the river, browse art galleries, and grab a coffee. Iconic Ft. Lauderdale spot.',
            price: '$$',
            time: '30 min',
            tags: ['fun', 'art'],
            img: 'https://assets.simpleviewinc.com/simpleview/image/upload/crm/ftlauderdale/11324281495_dfa0982014_b0-9279d1d25056b3a_9279d401-5056-b3a8-4921dc0d91c6c904.jpg'
        },
        {
            id: 'musillusions',
            name: 'Museum of Illusions Miami',
            desc: 'Interactive optical illusions and mind-bending photo ops. Super fun for couples!',
            price: '$$',
            time: '35 min',
            tags: ['art', 'fun'],
            img: ''
        },
        {
            id: 'paradox',
            name: 'Paradox Museum Miami',
            desc: 'Over 70 paradox-based exhibits. Brain-teasing fun in Wynwood.',
            price: '$$',
            time: '30 min',
            tags: ['art', 'fun'],
            img: 'https://paradoxmuseum.com/_astro/gallery2_cur62w_Zjlov5.png'
        },
        {
            id: 'pamm',
            name: 'P√©rez Art Museum Miami',
            desc: 'Modern art on the waterfront. Beautiful building with bay views and world-class exhibits.',
            price: '$$',
            time: '35 min',
            tags: ['art', 'history'],
            img: 'https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/31/8b/0e/caption.jpg?w=900&h=-1&s=1'
        },
        {
            id: 'rubell',
            name: 'Rubell Museum',
            desc: 'Contemporary art in a massive warehouse. Cutting-edge exhibits and unique space.',
            price: '$$',
            time: '30 min',
            tags: ['art'],
            img: ''
        },
        {
            id: 'norton',
            name: 'Norton Museum of Art',
            desc: 'World-class collection with gorgeous gardens. Worth the drive to West Palm Beach.',
            price: '$$',
            time: '65 min',
            tags: ['art', 'history'],
            img: 'https://www.norton.org/storage/app/media/Home/Splash%20mobile%20Norton%20image.jpg'
        },
        {
            id: 'miyceramic',
            name: 'MIY Ceramics Studio',
            desc: 'Paint your own pottery together. Take home a custom mug or bowl you made as a couple!',
            price: '$$',
            time: '25 min',
            tags: ['art', 'fun'],
            img: ''
        },
        {
            id: 'splatterroom',
            name: 'Pinspiration Splatter Room',
            desc: 'Throw paint at each other in a private room. Messy, colorful, and hilarious!',
            price: '$$',
            time: '20 min',
            tags: ['art', 'fun'],
            img: ''
        },
        {
            id: 'candleland',
            name: 'Candle Land',
            desc: 'Make custom scented candles together. Choose your scents and containers.',
            price: '$$',
            time: '25 min',
            tags: ['art', 'fun'],
            img: ''
        },
        {
            id: 'flamingo',
            name: 'Flamingo Gardens',
            desc: 'Botanical gardens + wildlife sanctuary in Davie. See flamingos, peacocks, and Florida wildlife!',
            price: '$$',
            time: '20 min',
            tags: ['history', 'fun'],
            img: 'https://assets.simpleviewinc.com/simpleview/image/upload/crm/ftlauderdale/flamingo-gardens-las-vegas0-0280158e5056b3a_028017eb-5056-b3a8-4991f4c7597d18ce.jpg'
        },
        {
            id: 'fairchild',
            name: 'Fairchild Tropical Garden',
            desc: 'World-renowned 83-acre tropical paradise. Stunning plants, butterflies, and peaceful paths.',
            price: '$$',
            time: '45 min',
            tags: ['history', 'fun'],
            img: 'https://dynamic-media-cdn.tripadvisor.com/media/photo-o/07/9f/02/80/fairchild-tropical-botanic.jpg?w=1200&h=1200&s=1'
        },
        {
            id: 'miamibeachbotanical',
            name: 'Miami Beach Botanical Garden',
            desc: 'FREE hidden gem! Beautiful garden oasis in the heart of Miami Beach.',
            price: '$',
            time: '40 min',
            tags: ['history', 'fun'],
            img: ''
        },
        {
            id: 'greenhat',
            name: 'The Green Hat Speakeasy',
            desc: 'Secret bar inside Xtreme Action Park. Requires weekly code to enter. Escape room vibes!',
            price: '$$',
            time: '15 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'room901',
            name: 'Room Nine01 (RM. 901)',
            desc: '1920s Prohibition-era speakeasy at Hyatt Centric. Red velvet, vintage vibes, live music.',
            price: '$$',
            time: '20 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'unitb',
            name: 'Unit B',
            desc: 'Downtown Fort Lauderdale hideaway with live jazz and burlesque shows. Super sexy vibes.',
            price: '$$',
            time: '25 min',
            tags: ['fun', 'art'],
            img: ''
        },
        {
            id: 'ifly',
            name: 'iFLY Indoor Skydiving',
            desc: 'Simulate skydiving indoors! Feel the rush without jumping out of a plane.',
            price: '$$$',
            time: '45 min',
            tags: ['fun'],
            img: 'https://cdn.tripster.com/media/product/gallery/original/iFLY_Fort_Lauderdale_(37419).jpg'
        },
        {
            id: 'glitchbar',
            name: 'Glitch Bar & Arcade',
            desc: 'Retro arcade games + craft cocktails. Pac-Man and drinks = perfect date night!',
            price: '$$',
            time: '30 min',
            tags: ['fun'],
            img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRGGKrTiQ8Hsj0WAAqnX4DNtfW7pmHZL5Ny5g&s'
        },
        {
            id: 'tenthlevel',
            name: 'Tenth Level Tavern',
            desc: 'Board game cafe with 1000+ games. Friendly staff help you pick the perfect game!',
            price: '$',
            time: '25 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'blackbird',
            name: 'Blackbird Ordinary',
            desc: 'Speakeasy-style bar with board games, vintage vibes, and great cocktails.',
            price: '$$',
            time: '30 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'escapology',
            name: 'Escapology Fort Lauderdale',
            desc: 'Themed escape rooms. Work together to solve puzzles and escape in 60 minutes!',
            price: '$$',
            time: '25 min',
            tags: ['fun'],
            img: 'https://www.escapology.com/_next/image?url=https%3A%2F%2Fassets01.escapdev.com%2Fuploads%2FScooby_Doo_Game_Room_with_Characters_in_the_TV_3ac841fa78.png&w=1920&q=75'
        },
        {
            id: 'boxroom',
            name: 'Boxroom Escape Games',
            desc: 'Unique escape room experiences. Great for testing teamwork!',
            price: '$$',
            time: '30 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'chopshops',
            name: 'CHOPS + HOPS',
            desc: 'Throw axes while drinking craft beer. Surprisingly fun and safe!',
            price: '$$',
            time: '30 min',
            tags: ['fun'],
            img: 'https://images.squarespace-cdn.com/content/v1/5f5f8e4cd6f027255c844d9d/1600098579394-ZBBI39VI75IC8MEJSP3N/flag+bay.jpg?format=2500w'
        },
        {
            id: 'axeholehouse',
            name: 'The Axe Hole House',
            desc: 'Another great axe throwing spot. Friendly competition!',
            price: '$$',
            time: '35 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'skyzone',
            name: 'Sky Zone Trampoline Park',
            desc: 'Indoor trampolines, foam pits, dodgeball. Jump around and be kids again!',
            price: '$$',
            time: '15 min',
            tags: ['fun'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Trampoline_park.jpg/640px-Trampoline_park.jpg'
        },
        {
            id: 'urbanair',
            name: 'Urban Air Adventure Park',
            desc: 'Trampolines + obstacle courses inside Xtreme Action Park. Super active date!',
            price: '$$',
            time: '15 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'justthefunny',
            name: 'Just The Funny Improv',
            desc: 'Live improv comedy based on YOUR suggestions! Hilarious and interactive.',
            price: '$$',
            time: '35 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'ftlimprov',
            name: 'Fort Lauderdale Improv',
            desc: 'Top-name comedians. Great dinner + show packages available.',
            price: '$$',
            time: '25 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'miamiimprov',
            name: 'Miami Improv',
            desc: 'Comedy shows + unique live D&D show. Laughs guaranteed!',
            price: '$$',
            time: '35 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'swapshop',
            name: 'Swap Shop Drive-In Theater',
            desc: 'Classic drive-in movie experience. Super close and nostalgic!',
            price: '$',
            time: '10 min',
            tags: ['fun'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Drive-in_theater.jpg/640px-Drive-in_theater.jpg'
        },
        {
            id: 'happypaws',
            name: 'Happy Paws Cat Cafe',
            desc: 'Play with adoptable kittens for an hour in Pembroke Pines. SO cute!',
            price: '$$',
            time: '10 min',
            tags: ['fun'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Cat_playing_with_a_toy.jpg/640px-Cat_playing_with_a_toy.jpg'
        },
        {
            id: 'doggiebag',
            name: 'Doggie Bag Cafe',
            desc: 'Indoor dog park + cafe. Great if you have a dog or want to meet friendly pups!',
            price: '$',
            time: '30 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'cafevico',
            name: 'Caf√© Vico',
            desc: 'Authentic Italian in Coral Gables. Cozy, romantic, and delicious pasta!',
            price: '$$',
            time: '40 min',
            tags: ['food'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Italian_pasta.jpg/640px-Italian_pasta.jpg'
        },
        {
            id: 'serafina',
            name: 'Trattoria Serafina',
            desc: 'Romantic Italian with beautiful outdoor seating in Coral Gables.',
            price: '$$$',
            time: '40 min',
            tags: ['food'],
            img: ''
        },
        {
            id: 'ilmulino',
            name: 'Il Mulino New York',
            desc: 'Upscale Italian fine dining in Sunny Isles. Special occasion spot!',
            price: '$$$',
            time: '45 min',
            tags: ['food'],
            img: ''
        },
        {
            id: 'bachour',
            name: 'Bachour',
            desc: 'World-famous French pastries and desserts. Instagram-worthy and incredible taste!',
            price: '$$',
            time: '35 min',
            tags: ['food'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/ed/French_pastries.jpg/640px-French_pastries.jpg'
        },
        {
            id: 'dripndip',
            name: 'Drip n Dip',
            desc: 'Instagram-worthy dessert bar with crazy sundaes and shakes. Fun and sweet!',
            price: '$$',
            time: '40 min',
            tags: ['food', 'fun'],
            img: ''
        },
        {
            id: 'lasolasgondola',
            name: 'Las Olas Gondola Ride',
            desc: 'Private gondola ride on New River! Can add dinner. Super romantic!',
            price: '$$$',
            time: '20 min',
            tags: ['fun', 'food'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Gondola_ride.jpg/640px-Gondola_ride.jpg'
        },
        {
            id: 'nube',
            name: 'Nub√© Rooftop Bar',
            desc: 'Rooftop views at Hilton Fort Lauderdale Beach. Perfect for sunset drinks!',
            price: '$$',
            time: '25 min',
            tags: ['food', 'fun'],
            img: ''
        },
        {
            id: 'rooftop1wlo',
            name: 'Rooftop @1WLO',
            desc: 'Downtown Fort Lauderdale rooftop with amazing city views and cocktails.',
            price: '$$',
            time: '25 min',
            tags: ['food', 'fun'],
            img: ''
        },
        {
            id: 'miamifoodtours',
            name: 'Miami Food Tours',
            desc: 'Guided walking tours through neighborhoods. Eat your way through Miami!',
            price: '$$$',
            time: '35 min',
            tags: ['food', 'fun'],
            img: ''
        },
        {
            id: 'italiancooking',
            name: 'Italian Cooking Class',
            desc: 'Learn to make pasta from scratch together! Cozymeal or Classpop hosts.',
            price: '$$$',
            time: '30 min',
            tags: ['food', 'fun', 'art'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Making_pasta.jpg/640px-Making_pasta.jpg'
        },
        {
            id: 'peachtree',
            name: 'Peachtree Revival Market',
            desc: 'Vintage thrift shopping + cafe. Find unique clothes and enjoy coffee together!',
            price: '$$',
            time: '40 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'animaledventures',
            name: 'Animal EDventures',
            desc: 'Private exotic animal encounters! Hold sloths, feed kangaroos, meet lemurs!',
            price: '$$$',
            time: '30 min',
            tags: ['fun'],
            img: ''
        },
        {
            id: 'matheson',
            name: 'Matheson Hammock Beach',
            desc: 'Unique tidal pool beach with amazing sunset views. Calm water and romantic!',
            price: '$',
            time: '40 min',
            tags: ['fun'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Beach_sunset.jpg/640px-Beach_sunset.jpg'
        },
        {
            id: 'hollywoodbeach',
            name: 'Hollywood Beach Broadwalk',
            desc: '2.5-mile boardwalk perfect for sunset walks, bikes, and beach time.',
            price: '$',
            time: '15 min',
            tags: ['fun'],
            img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Hollywood_Beach_Broadwalk.jpg/640px-Hollywood_Beach_Broadwalk.jpg'
        }
        ];

        // --- HELPER FUNCTIONS ---
        window.getFallbackImage = function(category) {
            return FALLBACK_IMAGES[category] || FALLBACK_IMAGES.default;
        }

        // --- RENDER LOGIC ---
        const pool = document.getElementById('pool');

        function createCard(data) {
        const card = document.createElement('div');
        card.className = 'card';
        card.draggable = true;
        card.id = data.id;
        
        let driveClass = 'drive-short';
        const mins = parseInt(data.time);
        if(mins > 30) driveClass = 'drive-med';
        if(mins > 55) driveClass = 'drive-long';

        const tagsHtml = data.tags.map(t => {
            let cls = '';
            if(t === 'art') cls = 'tag-art';
            if(t === 'history') cls = 'tag-hist';
            if(t === 'fun') cls = 'tag-fun';
            if(t === 'food') cls = 'tag-food';
            return `<span class="tag ${cls}">${t}</span>`;
        }).join('');

        // Use fallback immediately if no image URL provided
        const imgSrc = data.img || getFallbackImage(data.tags[0]);

        card.innerHTML = `
            <div class="card-img-container">
            <img src="${imgSrc}" class="card-img" alt="${data.name}" loading="lazy" onerror="this.onerror=null; this.src=getFallbackImage('${data.tags[0]}');">
            <div class="drive-badge">üöó <span class="${driveClass}">${data.time}</span></div>
            </div>
            <div class="card-body">
            <div class="card-header">
                <h4 class="card-title">${data.name}</h4>
                <span class="card-price">${data.price}</span>
            </div>
            <div class="card-desc">${data.desc}</div>
            <div class="card-tags">${tagsHtml}</div>
            </div>
        `;

        card.addEventListener('dragstart', () => { card.classList.add('dragging'); });
        card.addEventListener('dragend', () => { card.classList.remove('dragging'); });

        // Add tooltip functionality if details exist
        if (data.details) {
            const tooltip = document.createElement('div');
            tooltip.className = 'card-tooltip';
            tooltip.innerHTML = `
                <div class="tooltip-title">${data.name}</div>
                <div class="tooltip-section">
                    <div class="tooltip-label">üíµ Pricing</div>
                    <div class="tooltip-content"><span class="tooltip-price">${data.details.pricing}</span></div>
                </div>
                <div class="tooltip-section">
                    <div class="tooltip-label">üïí Hours</div>
                    <div class="tooltip-content tooltip-hours">${data.details.hours}</div>
                </div>
                <div class="tooltip-section">
                    <div class="tooltip-label">üìù What to Expect</div>
                    <div class="tooltip-content">${data.details.whatToExpect}</div>
                </div>
                ${data.details.notes ? `<div class="tooltip-section">
                    <div class="tooltip-label">‚≠ê Good to Know</div>
                    <div class="tooltip-content">${data.details.notes}</div>
                </div>` : ''}
            `;
            document.body.appendChild(tooltip);

            card.addEventListener('mouseenter', (e) => {
                const rect = card.getBoundingClientRect();
                tooltip.style.left = rect.right + 15 + 'px';
                tooltip.style.top = rect.top + 'px';
                tooltip.classList.add('show');
            });

            card.addEventListener('mouseleave', () => {
                tooltip.classList.remove('show');
            });
        }

        return card;
        }

        function renderCards(filterType) {
        const allCards = document.querySelectorAll('.card');
        allCards.forEach(card => {
            const data = dates.find(d => d.id === card.id);
            if(filterType === 'all' || data.tags.includes(filterType)) {
            card.style.display = 'flex';
            } else {
            card.style.display = 'none';
            }
        });
        }

        dates.forEach(d => {
            pool.appendChild(createCard(d));
        });

        window.filterCards = function(type) {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        renderCards(type);
        }

        const dropzones = document.querySelectorAll('.dropzone');
        dropzones.forEach(zone => {
        zone.addEventListener('dragover', e => {
            e.preventDefault();
            const afterElement = getDragAfterElement(zone, e.clientY);
            const draggable = document.querySelector('.dragging');
            if (afterElement == null) {
            zone.appendChild(draggable);
            } else {
            zone.insertBefore(draggable, afterElement);
            }
        });
        
        zone.addEventListener('dragenter', e => {
            e.preventDefault();
            zone.classList.add('drag-over');
        });

        zone.addEventListener('dragleave', () => {
            zone.classList.remove('drag-over');
        });
        
        zone.addEventListener('drop', () => {
            zone.classList.remove('drag-over');
        });
        });

        function getDragAfterElement(container, y) {
        const draggableElements = [...container.querySelectorAll('.card:not(.dragging)')];
        return draggableElements.reduce((closest, child) => {
            const box = child.getBoundingClientRect();
            const offset = y - box.top - box.height / 2;
            if (offset < 0 && offset > closest.offset) {
            return { offset: offset, element: child };
            } else {
            return closest;
            }
        }, { offset: Number.NEGATIVE_INFINITY }).element;
        }
    });
  </script>
</body>
</html>
